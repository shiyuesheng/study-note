# 正向代理和反向代理

> 代理技术，其实不只是Java语言特有的技术，其实在互联网早期就已经出现了这种技术。
>
> 在计算机网络层面，常用的代理技术有：正向代理、反向代理和透明代理。最常用到的就是正向代理和反向代理。
>
> *版权声明：本文为CSDN博主「Franco蜡笔小强」的原创文章*
>
> *原文链接：https://blog.csdn.net/w372426096/article/details/82659354*

## 正向代理

正向代理（forward proxy）：是一个位于客户端和目标服务器之间的服务器(代理服务器)，为了从目标服务器取得内容，客户端向代理服务器发送一个请求并指定目标，然后代理服务器向目标服务器转交请求并将获得的内容返回给客户端。客户端必须要进行一些特别的配置才能使用正向代理。一般情况下，如果没有特别说明，代理技术默认是指正向代理技术。

这种代理其实在生活中是比较常见的，比如科学上网技术，其用到的就是代理技术。

小明想要访问某国外网站，该网站无法在国内直接访问，但是小明可以访问到一个代理服务器，这个代理服务器可以访问到这个国外网站。这样呢，小明对该国外网站的访问就需要通过代理服务器来转发请求，并且该代理服务器也会将请求的响应再返回给小明。这个上网的过程就是用到了正向代理。

![img](https://img-blog.csdn.net/20180912115412746?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3czNzI0MjYwOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

在通过正向代理服务器的时候，目标服务器是不知道真正的客户端是谁的，只知道是代理服务器在发送请求。

### 正向代理的用途

**突破访问限制：**通过代理服务器，可以突破自身IP访问限制，访问国外网站，教育网等。

最近一些年，随着VPN技术的不断发展，一般的突破访问限制都是通过VPN来实现的，如果你仔细了解一下VPN的话，你会发现，其实VPN也是正向代理的一种实现，其本质上也是一个代理服务器。

**提高访问速度：**通常代理服务器都设置一个较大的硬盘缓冲区，会将部分请求的响应保存到缓冲区中，当其他用户再访问相同的信息时， 则直接由缓冲区中取出信息，传给用户，以提高访问速度。

**隐藏客户端真实IP：**上网者也可以通过这种方法隐藏自己的IP，免受攻击。

## 反向代理

反向代理（reverse proxy）：是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。

对于常用的场景，就是我们在Web开发中用到的负载均衡服务器，客户端发送请求到负载均衡服务器上，负载均衡服务器再把请求转发给一台真正的服务器来执行，再把执行结果返回给客户端。

![img](https://img-blog.csdn.net/20180912120310964?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3czNzI0MjYwOTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

前面我们说过，通过正向代理服务器访问目标服务器，目标服务器是不知道真正的客户端是谁的，甚至不知道访问自己的是一个代理。而通过反向代理服务器访问目标服务器时，客户端是不知道真正的目标服务器是谁的，甚至不知道自己访问的是一个代理。这也是正向代理和反向代理的区别。

### 反向代理的用途

**隐藏服务器真实IP：**使用反向代理，可以对客户端隐藏服务器的IP地址。

**负载均衡：**反向代理服务器可以做负载均衡，根据所有真实服务器的负载情况，将客户端请求分发到不同的真实服务器上。

**提高访问速度：**反向代理服务器可以对于静态内容及短时间内有大量访问请求的动态内容提供缓存服务，提高访问速度。

**提供安全保障：**反向代理服务器可以作为应用层防火墙，为网站提供对基于Web的攻击行为（例如DoS/DDoS）的防护，更容易排查恶意软件等。还可以为后端服务器统一提供加密和SSL加速（如SSL终端代理），提供HTTP访问认证等。



